        <!-- Disease Form-->
<div class="modal-header">
  <h4 class="modal-title" id="myModalLabel">Disease Details</h4>
</div>
<%= simple_form_for (Disease.new) do |f| %>
  <div class="modal-body">
    <div class="mb-3">
      <%= f.label :name, { class: "form-label" } %>
      <%= f.text_field :name, { class: "form-control", placeholder: "Disease Name" } %>
    </div>

    <div class="mb-3">
      <%= f.label :code, { class: "form-label" } %>
      <%= f.text_field :code, { class: "form-control", placeholder: "Disease Code" } %>
    </div>

    <div class="mb-3">
      <%= f.label :status, { class: "form-label" } %>
      <%= f.select :status, options_for_select(Disease.statuses.keys), { prompt: 'Select Status' }, { class: "form-control" } %>
    </div>
              
    <div class="mb-3">
      <%= f.association :medicines,
        label_method: lambda { |medicines| "#{medicines.name} - #{medicines.description}"},
        :label => "Select Medicines:",
        as: :select, 
        input_html: { class: "form-control value-selector" },
        item_wrapper_class: 'value-item select-2'
      %>
    </div>
                 
    <div class="mb-3">
      <%= f.association :user, :collection => User.doctor.map{ |doctor| [doctor.name, doctor.id]},
        :label => "Select Docotrs:",
        as: :select, 
        input_html: { class: "form-control doctor-selector" }, 
        item_wrapper_class: 'value-item'
      %>
    </div>
  </div>  
  
  <div class="modal-footer">
    <%= f.submit "Save",:remote => true, class: "btn btn-primary" %>
  </div>

<% end %>              

<script>
  
  $(document).ready(function() {
    $('.value-selector').select2();
    $('#disease_status').select2();
    $('.doctor-selector').select2();
  });

  $.ajax({
  type: ‘POST’,
  url: ‘/diseases,
  beforeSend: function(xhr) {xhr.setRequestHeader(“X-CSRF-Token”, $(“meta[name=‘csrf-token’]“).attr(“content”))},
  data: send_data,
  dataType: ‘script’,
  success: function(data) {
    console.log(data);
    }
  });  

</script>  

